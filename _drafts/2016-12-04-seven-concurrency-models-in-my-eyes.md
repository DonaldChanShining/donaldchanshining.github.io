---
layout: default
title: 2016-12-04 漫谈七周七并发模型
---
## 前言   
  
漫谈七周七并发模型，即记录了笔者阅读七周七并发模型时的所认为的重点内容和感想。由于笔者的语言使用栈主要为java和scala，所以书中的模型和例子笔者会
根据所接触到的并发模型演绎为这两种语言的例子，并尽可能的给出一些使用的感想和大家进行交流。

## 并行与并发

并发程序含有多个逻辑上的独立执行块,它们可以独立的并行执行，也可以串行执行。   
并发为问题域中的概念--程序需要被设计成为能够处理多个同时发生的事件；而并行为方法域中的概念--通过将问题中的多个部分并行执行，来加速解决问题。  
亦可理解为：并发是同一时间应对（dealing with）多件事情的能力，并行是同一时间做（doing）多件事情的能力。  
为何需要并行/并发？  
随着计算机硬件的高速发展，单计算机上集成的处理器个数及其它资源不断增加，为了更加合理的使用计算机的资源，我们需要并行。
事实上，现代计算机在不同层次上都使用了一定的并行技术，如：位级并行和指令级并行。对于大数据处理，可以在多处理器/多计算机之间实现数据级并行。
而我们应用开发人员最常使用的应该是任务级并行。并行可以看做并发的一种实现方式。   
并发的目的，是为了打通现实生活中的需求，能够有效的和用户交互，是应用程序拥有及时响应，高效，容错，简单等优势。从程序的角度上讲，我们的程序
应该及时的对用户不同的需求做出响应，慢的请求不会影响快的请求的执行，某些失败的请求任务不会影响下个不相关的请求任务，能够相对简单的排查出
问题的所在，并根据问题的出现做出对应的策略调整。

## 线程和锁   

线程和锁模型实际上是对底层硬件运行过程的形式化，如果不足够谨慎的使用，会使得程序很容易出错和难以维护。   

互斥，用锁保证某一时间仅有一个线程可以访问数据，但是也容易引起静态条件和死锁。

## 函数式编程  

正如面向对象编程之于面向过程编程，函数式编程之于命令式编程就好比一种新的思考问题和解决问题的方式。命令式编程的代码通常由一系列改变
全局状态的语句构成，而函数式编程则是将计算过程抽象成表达式求值，数据的处理过程就是一系列的求值。在函数式编程中函数是一等公民，拥有引用透明的特性。
在并发程序中，上一节中遇到的问题根源主要在于线程之间共享了可变状态（数据），而在函数式编程中，状态/数据都是不可变的，也就说不会遇到由共享可变状态
而带来的种种问题。    




